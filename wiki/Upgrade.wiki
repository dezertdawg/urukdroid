#summary How to upgrade from previous version of UrukDroid.

= Introduction =

To upgrade from UrukDroid 1.0+ (so 1.1 also) you should download special upgrade file (UrukDroid-1.5-upgrade.tbz2) from [Download] section. You need to place this file in *"/data/UrukUpdate"* directory.

== Important ==

Upgrade requires you to have at least as much as upgrade file free space on *rootfs* (/) and twice as much free space on *datafs* (/data). Without this it will fail!

*If you have UrukDroid 1.5 beta or release candidate* you have to apply [http://forum.xda-developers.com/showpost.php?p=16642940&postcount=1811 this fix] first!

This upgrade should also work for UrukDroid 0.7 - but it's not tested.

== First method: ==
Put upgrade file on your internal storage by any means - this is /mnt/storage (also visible as /sdcard/). Then use file manager (like FileManager, FileExpert or RooteExplorer - not build in one "File" manager) to move file to proper directory or do as follow on terminal (or over [UrukService_sshd ssh]).
Code:
{{{
su
cd /sdcard/
mv UrukDroid-1.5-upgrade.tbz2 /data/UrukUpdate/
}}}

== Second method: ==
Use [UrukConfig] to enable [UrukService_sshd SSHD] (if you don't have it started already), and use any SCP/SSH client (like WinSCP, or plain scp on Linux) to copy file (default username is "root", password is "UrukDroid") to "/data/UrukUpdate".

= Upgrade =

In both above cases upgrade will start automatically. It will alter kernel, initramfs and when finished, device will reboot itself. This upgrade can take up to 10 minutes - so be patient.

If you are unsure if upgrade is still in progress - you can watch CPU usage. For example with "top" - if there is something (like bzip2, gzip, tar) intensively working - upgrade is still in progress.

You can also monitor _"/var/lib/urukdroid/update.log"_ file - to see upgrade progress.
{{{
root@urukdroid:/root# tail -f /var/lib/urukdroid/update.log 
UrukUpd: Waiting free lock ...Done
UrukUpd: Decompressing file.... Done
UrukUpd: Veryfing existance of signature file...
UrukUpd: Veryfing signature...
UrukUpd: Extracting package description...
UrukUpd: Checking file integrity...
UrukUpd: Found upgrade update package
UrukUpd: Processing upgrade...
  PreInst: Updating kernel...
UrukUpd: Extracting upgrade...
}}}